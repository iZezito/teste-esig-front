<div class="flex flex-col justify-center items-center min-h-screen px-4">
  <p-card styleClass="w-full max-w-md shadow-md">
    <ng-template pTemplate="header">
      <div class="p-5 space-y-1">
        <h2 class="text-xl font-bold">Perfil</h2>
        <p>Atualize suas informações abaixo</p>
      </div>
    </ng-template>

    <form [formGroup]="profileForm" (ngSubmit)="onSubmit()" class="p-6 space-y-6">
      <input type="hidden" formControlName="id">

      <div class="space-y-2">
        <label class="block text-sm font-medium">Nome</label>
        <input
          pInputText
          formControlName="nome"
          type="text"
          [class.p-invalid]="isFieldInvalid('nome')"
          class="w-full"
        >
        <small *ngIf="isFieldInvalid('nome')" class="p-error">Nome é obrigatório</small>
      </div>

      <div class="space-y-2">
        <label class="block text-sm font-medium">Email</label>
        <input
          pInputText
          formControlName="email"
          type="email"
          [disabled]="true"
          class="w-full bg-gray-100"
        >
      </div>

      <div class="flex items-center gap-2">
        <label class="text-sm font-medium">Autenticação em dois fatores</label>
        <p-checkbox
          formControlName="twoFactorAuthenticationEnabled"
          [binary]="true"
        ></p-checkbox>
      </div>

      <p-button
        type="submit"
        label="Salvar Alterações"
        [disabled]="profileForm.invalid || isSubmitting"
        [loading]="isSubmitting"
        styleClass="w-full"
      ></p-button>
    </form>
  </p-card>
</div>
<p-toast></p-toast>
