<div class="flex justify-center items-center min-h-screen">
  <p-card styleClass="w-full max-w-md">
    <ng-template pTemplate="header">
      <div class="p-4">
        <h2 class="text-xl font-bold">Redefinir Senha</h2>
        <p>
          Digite sua nova senha abaixo para redefinir sua conta.
        </p>
      </div>
    </ng-template>
    <form [formGroup]="resetPasswordForm" (ngSubmit)="onSubmit()" class="p-4 space-y-4">
      <div class="p-field">
        <label class="block mb-1">Nova Senha</label>
        <input
          pInputText
          type="password"
          formControlName="newPassword"
          placeholder="********"
          [class.p-invalid]="isFieldInvalid('newPassword')"
          class="w-full"
        >
        <small *ngIf="isFieldInvalid('newPassword')" class="text-red-500">
          A senha deve ter pelo menos 6 caracteres.
        </small>
      </div>
      <div class="p-field">
        <label class="block mb-1">Confirmar Nova Senha</label>
        <input
          pInputText
          type="password"
          formControlName="confirmPassword"
          placeholder="********"
          [class.p-invalid]="isFieldInvalid('confirmPassword')"
          class="w-full"
        >
        <small *ngIf="isFieldInvalid('confirmPassword')" class="text-red-500">
          {{ resetPasswordForm.errors?.['passwordMismatch'] ? 'As senhas não coincidem' : 'Campo obrigatório' }}
        </small>
      </div>
      <p-button
        type="submit"
        [label]="isSubmitting ? 'Redefinindo...' : 'Redefinir Senha'"
        [disabled]="resetPasswordForm.invalid || isSubmitting"
        [loading]="isSubmitting"
        styleClass="w-full"
      ></p-button>
    </form>
  </p-card>
</div>
<p-toast></p-toast>
